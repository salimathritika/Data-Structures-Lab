//Lab 2 question 1

#include <stdio.h>

int length(char str[]);
void concat(char str1[],char str2[]);
int comp(char str1[],char str2[]);
void insertChar(char s[], char c, int index);
void insert(char s[], char sub[], int index);
void del(char str[],char word[]);


int main()
{
    int i,len,opt,pos,flag=0;
    char s1[100],s2[100];
    printf("1. To find length of string\n2. To concatenate two strings\n3. To compare two strings\n4. To insert a substring\n5. To delete a substring\n");
    scanf("%d",&opt);
    fflush(stdin);
    switch(opt)
    {
    case 1:
        {
            printf("Enter the string: ");
            //scanf("%s",s1);
            gets(s1);
            printf("The length of %s is %d",s1,length(s1));
            break;
        }
    case 2:
        {
           printf("Enter the strings:\n ");
            gets(s1);
            fflush(stdin);
            gets(s2);
            concat(s1,s2);
            printf("The concatenated string is:%s",s1);
            break;
        }
    case 3:
        {
            printf("Enter the strings:\n ");
             gets(s1);
            fflush(stdin);
            gets(s2);
            flag=comp(s1,s2);
            if(flag==1)
                printf("%s and %s are equal",s1,s2);
            else
                printf("%s and %s are not equal",s1,s2);
            break;
        }
    case 4:
        {
            printf("Enter the strings:\n ");
             gets(s1);
             fflush(stdin);
             printf("Enter the substring:\n ");
            gets(s2);
             printf("Enter the position:\n ");
             scanf("%d",&pos);
             insert(s1,s2,pos);
             printf("The new string is:%s",s1);
             break;
        }
    case 5:
        {
            printf("Enter the string:\n ");
             gets(s1);
             fflush(stdin);
             printf("Enter the substring to be deleted:\n ");
             gets(s2);
             del(s1, s2);
             break;
        }
    default:
        printf("Wrong choice");

    }
}


int length(char str[])
{
    int i;
    for(i=0;str[i]!='\0';i++);
    return i;
}


void concat(char str1[],char str2[])
{
    int i,j;
    i=length(str1);
    for(j=0;str2[j]!='\0';j++,i++)
    {
        str1[i]=str2[j];
    }
    str1[i]='\0';
}

int comp(char str1[],char str2[])
{
    int i;
    while((str1[i]!='\0') || (str2[i]!='\0'))
    {
        if(str1[i]!=str2[i])
            break;
        i++;
    }
    if(str1[i]==str2[i])
        return 1;
    return 0;
}



void insertChar(char s[], char c, int index)
{
    while(c!='\0')
    {
        char temp = s[index];
        s[index] = c;
        c = temp;
        index++;
    }
    s[index] = '\0';
}

void insert(char s[], char sub[], int index)
{
    int i;

    for(i=0;sub[i]!='\0';i++,index++)
    {
        insertChar(s,sub[i],index);
    }
}



void del(char str[],char word[])
{
    int i, j = 0, k = 0,n = 0;
    int flag = 0;

    char  neww[100];

    for(i = 0 ; str[i] != '\0' ; i++)
    {
        k = i;

        while(str[i] == word[j])
        {
            i++,j++;
            if(j == length(word))
            {
                flag = 1;
                break;
            }
        }
    j = 0;

    if(flag == 0)
        i = k;
    else
        flag = 0;

    neww[n++] = str[i];
    }

    neww[n] = '\0';



    printf("\n After Removing Word From String: %s",neww);
}

