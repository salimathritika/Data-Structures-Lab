//WORKING

#include <stdio.h>
#include <stdlib.h>

// Node structure for a binary tree
typedef struct {
    int data;
    struct tree* lchild;
    struct tree* rchild;
}tree;

tree* create_BT(tree *root)
{
    tree *curr, *temp, *prev;
    int i, n, j;
    printf("Enter no. of nodes:");
    scanf("%d", &n);
    char dir[20];
    for (j = 0; j < n; j++)
    {
        temp = (tree *)malloc(sizeof(tree));
        printf("Enter data:");
        scanf("%d", &temp->data);
        temp->lchild = NULL;
        temp->rchild = NULL;
        if (root == NULL)
            root = temp;
        else
        {
            printf("enter the direction:");
            scanf("%s", dir);
            curr = root;
            i = 0;
            while (dir[i] != '\0')
            {
                prev = curr;
                if (dir[i] == 'l' || dir[i] == 'L')
                    curr = curr->lchild;
                else
                    curr = curr->rchild;
                i++;
            }
            if (curr != NULL || dir[i] != '\0')
                printf("Invalid direction entered");
            else
            {
                if (dir[i - 1] == 'l')
                    prev->lchild = temp;
                else
                    prev->rchild = temp;
            }
        }
    }
    return root;
}

int areMirror(tree* root1, tree* root2) {
    if (root1 == NULL && root2 == NULL) {
        return 1;
    }

    if (root1 != NULL && root2 != NULL) {
        return (root1->data == root2->data) &&
               areMirror(root1->lchild, root2->rchild) &&
               areMirror(root1->rchild, root2->lchild);
    }
    return 0;
}



int main() {
    tree* tree1 = NULL;
    tree1=create_BT(tree1);


    tree* tree2 = NULL;
    tree2=create_BT(tree2);

    if (areMirror(tree1, tree2)) {
        printf("The trees are mirror images.\n");
    } else {
        printf("The trees are not mirror images.\n");
    }

    return 0;
}

